<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Flashcards Histoire-G√©o</title>
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>
  <h1>‚úçÔ∏è √âditeur de cartes</h1>
  <form id="addForm">
    Cat√©gorie: <input type="text" id="cat"><br>
    Question:<br><textarea id="q"></textarea><br>
    R√©ponse:<br><textarea id="a"></textarea><br>
    <button type="submit">Ajouter</button>
  </form>

  <h2>Cartes existantes</h2>
  <ul id="cardList"></ul>

  <a href="/quiz">üî• D√©marrer le quiz</a>

  <script>
  document.getElementById("addForm").onsubmit = async (e) => {
      e.preventDefault();
      let data = {
          cat: document.getElementById("cat").value,
          q: document.getElementById("q").value,
          a: document.getElementById("a").value
      };
      let res = await fetch("/add_card", {
          method: "POST",
          headers: {"Content-Type": "application/json"},
          body: JSON.stringify(data)
      });
      let result = await res.json();
      if(result.error) alert(result.error);
      else location.reload();
  }
  </script>
</body>
</html>
